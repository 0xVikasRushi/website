<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="AsyncAPI provides a specification that allows you to define Message-Driven APIs in a machine-readable format. It’s protocol-agnostic, so you can use it for APIs that work over Kafka, MQTT, AMQP, WebSockets, STOMP, etc. The spec is very similar to OpenAPI/Swagger so, if you’re familiar with it, AsyncAPI should be easy for you.
asyncapi: &#39;1.0.0&#39; info: title: Streetlights API version: &#39;1.0&#39; description: | The Smartylighting Streetlights API allows you to remotely manage the city lights." />


<meta itemprop="name" content="Getting started | AsyncAPI Initiative">
<meta itemprop="description" content="AsyncAPI provides a specification that allows you to define Message-Driven APIs in a machine-readable format. It’s protocol-agnostic, so you can use it for APIs that work over Kafka, MQTT, AMQP, WebSockets, STOMP, etc. The spec is very similar to OpenAPI/Swagger so, if you’re familiar with it, AsyncAPI should be easy for you.
asyncapi: &#39;1.0.0&#39; info: title: Streetlights API version: &#39;1.0&#39; description: | The Smartylighting Streetlights API allows you to remotely manage the city lights.">
<meta itemprop="image" content="https://www.asyncapi.com/images/social/card.png">


<meta name="twitter:card" value="summary_large_image">
<meta name="twitter:title" content="Getting started | AsyncAPI Initiative">
<meta name="twitter:description" content="AsyncAPI provides a specification that allows you to define Message-Driven APIs in a machine-readable format. It’s protocol-agnostic, so you can use it for APIs that work over Kafka, MQTT, AMQP, WebSockets, STOMP, etc. The spec is very similar to OpenAPI/Swagger so, if you’re familiar with it, AsyncAPI should be easy for you.
asyncapi: &#39;1.0.0&#39; info: title: Streetlights API version: &#39;1.0&#39; description: | The Smartylighting Streetlights API allows you to remotely manage the city lights.">
<meta name="twitter:image" content="https://www.asyncapi.com/images/social/card.png">



<meta property="og:title" content="Getting started | AsyncAPI Initiative" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.asyncapi.com/docs/getting-started/" />
<meta property="og:image" content="https://www.asyncapi.com/images/social/card.png" />
<meta property="og:description" content="AsyncAPI provides a specification that allows you to define Message-Driven APIs in a machine-readable format. It’s protocol-agnostic, so you can use it for APIs that work over Kafka, MQTT, AMQP, WebSockets, STOMP, etc. The spec is very similar to OpenAPI/Swagger so, if you’re familiar with it, AsyncAPI should be easy for you.
asyncapi: &#39;1.0.0&#39; info: title: Streetlights API version: &#39;1.0&#39; description: | The Smartylighting Streetlights API allows you to remotely manage the city lights." />
    <title>Getting started | AsyncAPI Initiative</title>
    
<link rel="icon" type="image/png" href="https://www.asyncapi.com/images/favicon.png" />
<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans:400,600" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/style.min.f6ffa2b21beac513849f79e8178a3ea9b54a8e686a1bfa2e3f8728434ced2bc5.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/line-numbers/prism-line-numbers.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/line-highlight/prism-line-highlight.min.css">
<link rel="stylesheet" href="/syntax.css">
</head>

<body>
    
    <div id="preloader">
        <div id="status"></div>
    </div>

    

<nav class="navbar is-fresh is-transparent no-shadow" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img src="/images/logos/asyncapi.png" alt="AsyncAPI logo">
      </a>
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

      <div id="navbar-menu" class="navbar-menu is-static">

        <div class="navbar-end">
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              Learn
            </a>

            <div class="navbar-dropdown">
              <a href="/docs/getting-started" class="navbar-item" >
                Get started
              </a>
              <a href="/docs/tutorials" class="navbar-item" >
                Tutorials
              </a>
              <a href="/docs/specifications/latest" class="navbar-item" >
                Specification
              </a>
            </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              Tooling
            </a>

            <div class="navbar-dropdown">
              <a href="http://editor.asyncapi.org" class="navbar-item" target="_blank">
                Online editor
              </a>
              <a href="/docs/tooling#codegens" class="navbar-item" >
                Code generators
              </a>
              <a href="/docs/tooling#docgens" class="navbar-item" >
                Documentation generators
              </a>
              <a href="/docs/tooling#validators" class="navbar-item" >
                Validators
              </a>
              <a href="/docs/tooling#code-first" class="navbar-item" >
                Code-first tools
              </a>
            </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              News
            </a>

            <div class="navbar-dropdown">
              <a href="https://medium.com/asyncapi" class="navbar-item" target="_blank">
                Blog
              </a>
              <a href="https://twitter.com/AsyncAPISpec" class="navbar-item" target="_blank">
                Twitter
              </a>
            </div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              Help
            </a>

            <div class="navbar-dropdown">
              <a href="https://github.com/asyncapi/asyncapi" class="navbar-item" target="_blank">
                Github repo
              </a>
              <a href="https://join.slack.com/t/asyncapi/shared_invite/enQtNDY3MzI0NjU5OTQyLWU4ZGU2MTg1MDIyZDFjMTI2YjkxYTdlMzc1NjgzYTAxZDM1YTg1NDhhMTE2NDliMjlhZjYxNzk0ZTE5ZGU1ZTg" class="navbar-item" target="_blank">
                Slack workspace
              </a>
            </div>
          </div>
          <a href="/about" class="navbar-item is-secondary">
            About
          </a>
          <a href="/docs/getting-started" class="navbar-item">
            <span class="button signup-button rounded secondary-btn raised">
              Get Started
            </span>
          </a>
        </div>
      </div>
  </div>
</nav>

    

<nav id="navbar-clone" class="navbar is-fresh is-transparent" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img src="/images/logos/asyncapi.png" alt="AsyncAPI logo">
      </a>
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="cloned-navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div id="cloned-navbar-menu" class="navbar-menu is-fixed">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            Learn
          </a>

          <div class="navbar-dropdown">
            <a href="/docs/getting-started" class="navbar-item" >
              Get started
            </a>
            <a href="/docs/tutorials" class="navbar-item" >
              Tutorials
            </a>
            <a href="/docs/specifications/latest" class="navbar-item" >
              Specification
            </a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            Tooling
          </a>

          <div class="navbar-dropdown">
            <a href="http://editor.asyncapi.org" class="navbar-item" target="_blank">
              Online editor
            </a>
            <a href="/docs/tooling#codegens" class="navbar-item" >
              Code generators
            </a>
            <a href="/docs/tooling#docgens" class="navbar-item" >
              Documentation generators
            </a>
            <a href="/docs/tooling#validators" class="navbar-item" >
              Validators
            </a>
            <a href="/docs/tooling#code-first" class="navbar-item" >
              Code-first tools
            </a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            News
          </a>

          <div class="navbar-dropdown">
            <a href="https://medium.com/asyncapi" class="navbar-item" target="_blank">
              Blog
            </a>
            <a href="https://twitter.com/AsyncAPISpec" class="navbar-item" target="_blank">
              Twitter
            </a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            Help
          </a>

          <div class="navbar-dropdown">
            <a href="https://github.com/asyncapi/asyncapi" class="navbar-item" target="_blank">
              Github repo
            </a>
            <a href="https://join.slack.com/t/asyncapi/shared_invite/enQtNDY3MzI0NjU5OTQyLWU4ZGU2MTg1MDIyZDFjMTI2YjkxYTdlMzc1NjgzYTAxZDM1YTg1NDhhMTE2NDliMjlhZjYxNzk0ZTE5ZGU1ZTg" class="navbar-item" target="_blank">
              Slack workspace
            </a>
          </div>
        </div>
        <a href="/about" class="navbar-item is-secondary">
          About
        </a>
        <a href="/docs/getting-started" class="navbar-item">
          <span class="button signup-button rounded secondary-btn raised">
            Get Started
          </span>
        </a>
      </div>
    </div>
</div>
</nav>

    
    
<div class="container" style="padding:0 2rem;margin-top:30px;">
    <div class="columns">
        <div class="column is-3 is-hidden-mobile is-hidden-tablet-only">
            <aside class="docs-menu">
    <h3>Menu</h3>
    <ul>
        
        
        
            
            <li>
                
                <span class="active">Getting started</span>
            </li>
            
        
        
        
        <li>
            <a href="#">
                
                <span>Tutorials</span>
            </a>
        </li>
        <ul class="sub-menu">
            
                
                <li>
                    <a href="/docs/tutorials/streetlights/">
                        
                        <span>Streetlights</span>
                    </a>
                </li>
                
            
        </ul>
        
        
        
        <li>
            <a href="#">
                
                <span>Specification</span>
            </a>
        </li>
        <ul class="sub-menu">
            
                
                <li>
                    <a href="/docs/specifications/1.0.0/">
                        
                        <span>1.0.0</span>
                    </a>
                </li>
                
            
                
                <li>
                    <a href="/docs/specifications/1.1.0/">
                        
                        <span>1.1.0</span>
                    </a>
                </li>
                
            
                
                <li>
                    <a href="/docs/specifications/1.2.0/">
                        
                        <span>1.2.0</span>
                    </a>
                </li>
                
            
        </ul>
        
        
    </ul>
</aside>
        </div>
        <div class="column is-9 is-centered-tablet-portrait">
        <div class="columns">
    <div class="column">
        <h1 class="title section-title" style="margin-top:30px;">Getting started</h1>
    </div>
</div>
<div class="docs-content">

<p>AsyncAPI provides a specification that allows you to define Message-Driven APIs in a machine-readable format. It’s protocol-agnostic, so you can use it for APIs that work over Kafka, MQTT, AMQP, WebSockets, STOMP, etc. The spec is very similar to <a href="https://github.com/OAI/OpenAPI-Specification">OpenAPI/Swagger</a> so, if you’re familiar with it, AsyncAPI should be easy for you.</p>

<pre class="language-yaml line-numbers" data-line="2-5"><code>asyncapi: '1.0.0'
info:
  title: Streetlights API
  version: '1.0'
  description: |
    The Smartylighting Streetlights API allows you
    to remotely manage the city lights.
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0'
baseTopic: smartylighting.streetlights.1.0</code></pre>

<h1 id="a-basic-example">A basic example<a href="#a-basic-example" class="hanchor" ariaLabel="Anchor"> #&#xFE0E;</a> </h1>

<p>The following example describes a very simple streetlights service. It describes a service you can connect at <code>api.streetlights.smartylighting.com</code> (port 1883 or 8883) and allows you to publish information about environmental lighting conditions.</p>

<pre><code class="language-yaml">asyncapi: '1.0.0'
info:
  title: Streetlights API
  version: '1.0'
  description: |
    The Smartylighting Streetlights API allows you
    to remotely manage the city lights.
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0'
baseTopic: smartylighting.streetlights.1.0

servers:
  - url: api.streetlights.smartylighting.com:{port}
    scheme: mqtt
    description: Test broker
    variables:
      port:
        description: Secure connection (TLS) is available through port 8883.
        default: '1883'
        enum:
          - '1883'
          - '8883'

topics:
  event.{streetlightId}.lighting.measured:
    publish:
      $ref: '#/components/messages/lightMeasured'

components:
  messages:
    lightMeasured:
      summary: Inform about environmental lighting conditions for a particular streetlight.
      payload:
        type: object
        properties:
          lumens:
            type: integer
            minimum: 0
            description: Light intensity measured in lumens.
          sentAt:
            $ref: &quot;#/components/schemas/sentAt&quot;

  schemas:
    sentAt:
      type: string
      format: date-time
      description: Date and time when the message was sent.
</code></pre>

<p>If you are familiar with the OpenAPI specification, I’m sure you already found lots of similarities. But, what’s this <code>topics</code> section in the file? And what’s this <code>event.{streetlightId}.lighting.measured</code>? Let’s dive into it!</p>

<h1 id="core-concepts">Core concepts<a href="#core-concepts" class="hanchor" ariaLabel="Anchor"> #&#xFE0E;</a> </h1>

<p>The AsyncAPI specification assumes two core concepts:</p>

<h2 id="1-messages">1. Messages<a href="#1-messages" class="hanchor" ariaLabel="Anchor"> #&#xFE0E;</a> </h2>

<p>Consumer(s) communicate with your API via messages. A message is a piece of information two or more programs exchange. Most of the times to notify the other end(s) that, either an event has occurred or you want to trigger a command.</p>

<p>Technically speaking the events and actions will always be sent in the same way. These are just messages, and their content can be anything. So when we talk about the difference between events and actions, this is only a semantic differentiation of message’s content. We do not enforce you to make any difference between them, although we encourage you to do it.</p>

<p>A message can contain headers and a payload. However, both are optional. The specification allows you to define any header, to remain as much protocol-agnostic as possible.</p>

<h2 id="2-topics">2. Topics<a href="#2-topics" class="hanchor" ariaLabel="Anchor"> #&#xFE0E;</a> </h2>

<p>Message-driven protocols usually contain something called topic (<a href="http://www.hivemq.com/blog/mqtt-essentials-part-5-mqtt-topics-best-practices">MQTT</a>), routing key (AMQP), destination (STOMP), etc. To some extent, they can compare to URLs in HTTP APIs. So, when you send a message to your API, it will be routed depending on the topic you published on. This feature allows you to create APIs that subscribe to specific topics and publish to other ones.</p>

<p>There’s no standard way of naming topics, so we recommend you to <strong><a href="https://github.com/asyncapi/topic-definition">have a look at our proposal here</a></strong>.</p>
</div>
        </div>
    </div>
</div>


    <script>
    (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-109278936-1', 'https:\/\/www.asyncapi.com\/');
    ga('send', 'pageview');
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://unpkg.com/feather-icons"></script>
<script src="https://www.asyncapi.com/js/fresh.js"></script>
<script src="https://www.asyncapi.com/js/jquery.panelslider.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.js"></script>
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-yaml.min.js"></script>
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/line-numbers/prism-line-numbers.js"></script>
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/line-highlight/prism-line-highlight.min.js"></script>

<script>
    $('pre code').addClass('line-numbers');
</script>
</body>

</html>